// Diccionario de banderas en JavaScript
const countryFlags = {
    AD: 'https://flagcdn.com/w160/ad.png',
    AE: 'https://flagcdn.com/w160/ae.png',
    AF: 'https://flagcdn.com/w160/af.png',
    AG: 'https://flagcdn.com/w160/ag.png',
    AI: 'https://flagcdn.com/w160/ai.png',
    AL: 'https://flagcdn.com/w160/al.png',
    AM: 'https://flagcdn.com/w160/am.png',
    AO: 'https://flagcdn.com/w160/ao.png',
    AQ: 'https://flagcdn.com/w160/aq.png',
    AR: 'https://flagcdn.com/w160/ar.png',
    AS: 'https://flagcdn.com/w160/as.png',
    AT: 'https://flagcdn.com/w160/at.png',
    AU: 'https://flagcdn.com/w160/au.png',
    AW: 'https://flagcdn.com/w160/aw.png',
    AX: 'https://flagcdn.com/w160/ax.png',
    AZ: 'https://flagcdn.com/w160/az.png',
    BA: 'https://flagcdn.com/w160/ba.png',
    BB: 'https://flagcdn.com/w160/bb.png',
    BD: 'https://flagcdn.com/w160/bd.png',
    BE: 'https://flagcdn.com/w160/be.png',
    BF: 'https://flagcdn.com/w160/bf.png',
    BG: 'https://flagcdn.com/w160/bg.png',
    BH: 'https://flagcdn.com/w160/bh.png',
    BI: 'https://flagcdn.com/w160/bi.png',
    BJ: 'https://flagcdn.com/w160/bj.png',
    BL: 'https://flagcdn.com/w160/bl.png',
    BM: 'https://flagcdn.com/w160/bm.png',
    BN: 'https://flagcdn.com/w160/bn.png',
    BO: 'https://flagcdn.com/w160/bo.png',
    BQ: 'https://flagcdn.com/w160/bq.png',
    BR: 'https://flagcdn.com/w160/br.png',
    BS: 'https://flagcdn.com/w160/bs.png',
    BT: 'https://flagcdn.com/w160/bt.png',
    BV: 'https://flagcdn.com/w160/bv.png',
    BW: 'https://flagcdn.com/w160/bw.png',
    BY: 'https://flagcdn.com/w160/by.png',
    BZ: 'https://flagcdn.com/w160/bz.png',
    CA: 'https://flagcdn.com/w160/ca.png',
    CC: 'https://flagcdn.com/w160/cc.png',
    CD: 'https://flagcdn.com/w160/cd.png',
    CF: 'https://flagcdn.com/w160/cf.png',
    CG: 'https://flagcdn.com/w160/cg.png',
    CH: 'https://flagcdn.com/w160/ch.png',
    CI: 'https://flagcdn.com/w160/ci.png',
    CK: 'https://flagcdn.com/w160/ck.png',
    CL: 'https://flagcdn.com/w160/cl.png',
    CM: 'https://flagcdn.com/w160/cm.png',
    CN: 'https://flagcdn.com/w160/cn.png',
    CO: 'https://flagcdn.com/w160/co.png',
    CR: 'https://flagcdn.com/w160/cr.png',
    CU: 'https://flagcdn.com/w160/cu.png',
    CV: 'https://flagcdn.com/w160/cv.png',
    CW: 'https://flagcdn.com/w160/cw.png',
    CX: 'https://flagcdn.com/w160/cx.png',
    CY: 'https://flagcdn.com/w160/cy.png',
    CZ: 'https://flagcdn.com/w160/cz.png',
    DE: 'https://flagcdn.com/w160/de.png',
    DJ: 'https://flagcdn.com/w160/dj.png',
    DK: 'https://flagcdn.com/w160/dk.png',
    DM: 'https://flagcdn.com/w160/dm.png',
    DO: 'https://flagcdn.com/w160/do.png',
    DZ: 'https://flagcdn.com/w160/dz.png',
    EC: 'https://flagcdn.com/w160/ec.png',
    EE: 'https://flagcdn.com/w160/ee.png',
    EG: 'https://flagcdn.com/w160/eg.png',
    EH: 'https://flagcdn.com/w160/eh.png',
    ER: 'https://flagcdn.com/w160/er.png',
    ES: 'https://flagcdn.com/w160/es.png',
    ET: 'https://flagcdn.com/w160/et.png',
    FI: 'https://flagcdn.com/w160/fi.png',
    FJ: 'https://flagcdn.com/w160/fj.png',
    FK: 'https://flagcdn.com/w160/fk.png',
    FM: 'https://flagcdn.com/w160/fm.png',
    FO: 'https://flagcdn.com/w160/fo.png',
    FR: 'https://flagcdn.com/w160/fr.png',
    GA: 'https://flagcdn.com/w160/ga.png',
    GB: 'https://flagcdn.com/w160/gb.png',
    GD: 'https://flagcdn.com/w160/gd.png',
    GE: 'https://flagcdn.com/w160/ge.png',
    GF: 'https://flagcdn.com/w160/gf.png',
    GG: 'https://flagcdn.com/w160/gg.png',
    GH: 'https://flagcdn.com/w160/gh.png',
    GI: 'https://flagcdn.com/w160/gi.png',
    GL: 'https://flagcdn.com/w160/gl.png',
    GM: 'https://flagcdn.com/w160/gm.png',
    GN: 'https://flagcdn.com/w160/gn.png',
    GP: 'https://flagcdn.com/w160/gp.png',
    GQ: 'https://flagcdn.com/w160/gq.png',
    GR: 'https://flagcdn.com/w160/gr.png',
    GS: 'https://flagcdn.com/w160/gs.png',
    GT: 'https://flagcdn.com/w160/gt.png',
    GU: 'https://flagcdn.com/w160/gu.png',
    GW: 'https://flagcdn.com/w160/gw.png',
    GY: 'https://flagcdn.com/w160/gy.png',
    HK: 'https://flagcdn.com/w160/hk.png',
    HM: 'https://flagcdn.com/w160/hm.png',
    HN: 'https://flagcdn.com/w160/hn.png',
    HR: 'https://flagcdn.com/w160/hr.png',
    HT: 'https://flagcdn.com/w160/ht.png',
    HU: 'https://flagcdn.com/w160/hu.png',
    ID: 'https://flagcdn.com/w160/id.png',
    IE: 'https://flagcdn.com/w160/ie.png',
    IL: 'https://flagcdn.com/w160/il.png',
    IM: 'https://flagcdn.com/w160/im.png',
    IN: 'https://flagcdn.com/w160/in.png',
    IO: 'https://flagcdn.com/w160/io.png',
    IQ: 'https://flagcdn.com/w160/iq.png',
    IR: 'https://flagcdn.com/w160/ir.png',
    IS: 'https://flagcdn.com/w160/is.png',
    IT: 'https://flagcdn.com/w160/it.png',
    JE: 'https://flagcdn.com/w160/je.png',
    JM: 'https://flagcdn.com/w160/jm.png',
    JO: 'https://flagcdn.com/w160/jo.png',
    JP: 'https://flagcdn.com/w160/jp.png',
    KE: 'https://flagcdn.com/w160/ke.png',
    KG: 'https://flagcdn.com/w160/kg.png',
    KH: 'https://flagcdn.com/w160/kh.png',
    KI: 'https://flagcdn.com/w160/ki.png',
    KM: 'https://flagcdn.com/w160/km.png',
    KN: 'https://flagcdn.com/w160/kn.png',
    KP: 'https://flagcdn.com/w160/kp.png',
    KR: 'https://flagcdn.com/w160/kr.png',
    KW: 'https://flagcdn.com/w160/kw.png',
    KY: 'https://flagcdn.com/w160/ky.png',
    KZ: 'https://flagcdn.com/w160/kz.png',
    LA: 'https://flagcdn.com/w160/la.png',
    LB: 'https://flagcdn.com/w160/lb.png',
    LC: 'https://flagcdn.com/w160/lc.png',
    LI: 'https://flagcdn.com/w160/li.png',
    LK: 'https://flagcdn.com/w160/lk.png',
    LR: 'https://flagcdn.com/w160/lr.png',
    LS: 'https://flagcdn.com/w160/ls.png',
    LT: 'https://flagcdn.com/w160/lt.png',
    LU: 'https://flagcdn.com/w160/lu.png',
    LV: 'https://flagcdn.com/w160/lv.png',
    LY: 'https://flagcdn.com/w160/ly.png',
    MA: 'https://flagcdn.com/w160/ma.png',
    MC: 'https://flagcdn.com/w160/mc.png',
    MD: 'https://flagcdn.com/w160/md.png',
    ME: 'https://flagcdn.com/w160/me.png',
    MF: 'https://flagcdn.com/w160/mf.png',
    MG: 'https://flagcdn.com/w160/mg.png',
    MH: 'https://flagcdn.com/w160/mh.png',
    MK: 'https://flagcdn.com/w160/mk.png',
    ML: 'https://flagcdn.com/w160/ml.png',
    MM: 'https://flagcdn.com/w160/mm.png',
    MN: 'https://flagcdn.com/w160/mn.png',
    MO: 'https://flagcdn.com/w160/mo.png',
    MP: 'https://flagcdn.com/w160/mp.png',
    MQ: 'https://flagcdn.com/w160/mq.png',
    MR: 'https://flagcdn.com/w160/mr.png',
    MS: 'https://flagcdn.com/w160/ms.png',
    MT: 'https://flagcdn.com/w160/mt.png',
    MU: 'https://flagcdn.com/w160/mu.png',
    MV: 'https://flagcdn.com/w160/mv.png',
    MW: 'https://flagcdn.com/w160/mw.png',
    MX: 'https://flagcdn.com/w160/mx.png',
    MY: 'https://flagcdn.com/w160/my.png',
    MZ: 'https://flagcdn.com/w160/mz.png',
    NA: 'https://flagcdn.com/w160/na.png',
    NC: 'https://flagcdn.com/w160/nc.png',
    NE: 'https://flagcdn.com/w160/ne.png',
    NF: 'https://flagcdn.com/w160/nf.png',
    NG: 'https://flagcdn.com/w160/ng.png',
    NI: 'https://flagcdn.com/w160/ni.png',
    NL: 'https://flagcdn.com/w160/nl.png',
    NO: 'https://flagcdn.com/w160/no.png',
    NP: 'https://flagcdn.com/w160/np.png',
    NR: 'https://flagcdn.com/w160/nr.png',
    NU: 'https://flagcdn.com/w160/nu.png',
    NZ: 'https://flagcdn.com/w160/nz.png',
    OM: 'https://flagcdn.com/w160/om.png',
    PA: 'https://flagcdn.com/w160/pa.png',
    PE: 'https://flagcdn.com/w160/pe.png',
    PF: 'https://flagcdn.com/w160/pf.png',
    PG: 'https://flagcdn.com/w160/pg.png',
    PH: 'https://flagcdn.com/w160/ph.png',
    PK: 'https://flagcdn.com/w160/pk.png',
    PL: 'https://flagcdn.com/w160/pl.png',
    PM: 'https://flagcdn.com/w160/pm.png',
    PN: 'https://flagcdn.com/w160/pn.png',
    PR: 'https://flagcdn.com/w160/pr.png',
    PS: 'https://flagcdn.com/w160/ps.png',
    PT: 'https://flagcdn.com/w160/pt.png',
    PW: 'https://flagcdn.com/w160/pw.png',
    PY: 'https://flagcdn.com/w160/py.png',
    QA: 'https://flagcdn.com/w160/qa.png',
    RE: 'https://flagcdn.com/w160/re.png',
    RO: 'https://flagcdn.com/w160/ro.png',
    RS: 'https://flagcdn.com/w160/rs.png',
    RU: 'https://flagcdn.com/w160/ru.png',
    RW: 'https://flagcdn.com/w160/rw.png',
    SA: 'https://flagcdn.com/w160/sa.png',
    SB: 'https://flagcdn.com/w160/sb.png',
    SC: 'https://flagcdn.com/w160/sc.png',
    SD: 'https://flagcdn.com/w160/sd.png',
    SE: 'https://flagcdn.com/w160/se.png',
    SG: 'https://flagcdn.com/w160/sg.png',
    SH: 'https://flagcdn.com/w160/sh.png',
    SI: 'https://flagcdn.com/w160/si.png',
    SJ: 'https://flagcdn.com/w160/sj.png',
    SK: 'https://flagcdn.com/w160/sk.png',
    SL: 'https://flagcdn.com/w160/sl.png',
    SM: 'https://flagcdn.com/w160/sm.png',
    SN: 'https://flagcdn.com/w160/sn.png',
    SO: 'https://flagcdn.com/w160/so.png',
    SR: 'https://flagcdn.com/w160/sr.png',
    SS: 'https://flagcdn.com/w160/ss.png',
    ST: 'https://flagcdn.com/w160/st.png',
    SV: 'https://flagcdn.com/w160/sv.png',
    SX: 'https://flagcdn.com/w160/sx.png',
    SY: 'https://flagcdn.com/w160/sy.png',
    SZ: 'https://flagcdn.com/w160/sz.png',
    TC: 'https://flagcdn.com/w160/tc.png',
    TD: 'https://flagcdn.com/w160/td.png',
    TF: 'https://flagcdn.com/w160/tf.png',
    TG: 'https://flagcdn.com/w160/tg.png',
    TH: 'https://flagcdn.com/w160/th.png',
    TJ: 'https://flagcdn.com/w160/tj.png',
    TK: 'https://flagcdn.com/w160/tk.png',
    TL: 'https://flagcdn.com/w160/tl.png',
    TM: 'https://flagcdn.com/w160/tm.png',
    TN: 'https://flagcdn.com/w160/tn.png',
    TO: 'https://flagcdn.com/w160/to.png',
    TR: 'https://flagcdn.com/w160/tr.png',
    TT: 'https://flagcdn.com/w160/tt.png',
    TV: 'https://flagcdn.com/w160/tv.png',
    TW: 'https://flagcdn.com/w160/tw.png',
    TZ: 'https://flagcdn.com/w160/tz.png',
    UA: 'https://flagcdn.com/w160/ua.png',
    UG: 'https://flagcdn.com/w160/ug.png',
    UM: 'https://flagcdn.com/w160/um.png',
    US: 'https://flagcdn.com/w160/us.png',
    UY: 'https://flagcdn.com/w160/uy.png',
    UZ: 'https://flagcdn.com/w160/uz.png',
    VA: 'https://flagcdn.com/w160/va.png',
    VC: 'https://flagcdn.com/w160/vc.png',
    VE: 'https://flagcdn.com/w160/ve.png',
    VG: 'https://flagcdn.com/w160/vg.png',
    VI: 'https://flagcdn.com/w160/vi.png',
    VN: 'https://flagcdn.com/w160/vn.png',
    VU: 'https://flagcdn.com/w160/vu.png',
    WF: 'https://flagcdn.com/w160/wf.png',
    WS: 'https://flagcdn.com/w160/ws.png',
    YE: 'https://flagcdn.com/w160/ye.png',
    YT: 'https://flagcdn.com/w160/yt.png',
    ZA: 'https://flagcdn.com/w160/za.png',
    ZM: 'https://flagcdn.com/w160/zm.png',
    ZW: 'https://flagcdn.com/w160/zw.png',
    tz: 'https://flagcdn.com/w160/tz.png',
    UAE: 'https://flagcdn.com/w160/ae.png',
};

function filterByCountry(country) {
    event.preventDefault();
    event.stopPropagation();
    var url = new URL(window.location.href);
    url.searchParams.set('country-filter', country);
    window.location.href = url.toString();
}

document.addEventListener("DOMContentLoaded", () => {

    // Procesar los enlaces del dropdown
    const anchors = document.querySelectorAll('.tagDropDown');
    anchors.forEach(anchor => {
            const onclickValue = anchor.getAttribute('onclick');
    const match = /filterByCountry\('([^']+)'\)/.exec(onclickValue);
    
    if (match && match[1]) {
        const countryCode = match[1];

        if (countryFlags[countryCode]) {
            const originalText = anchor.textContent.trim();
            
            // Crear la imagen de la bandera
            const img = document.createElement("img");
            img.src = countryFlags[countryCode];
            img.alt = `${countryCode}`;
            img.style.width = "20px"; // Tamaño pequeño
            img.style.height = "auto";
            img.style.marginRight = "5px"; // Espacio entre imagen y texto

            // Limpiar el contenido actual y añadir la imagen + texto original
            anchor.innerHTML = "";
            anchor.appendChild(img);
            anchor.appendChild(document.createTextNode(` ${originalText}`));
        }
    }
});

    // Procesar los elementos .flag
    const flagElements = document.querySelectorAll('.flag');
    flagElements.forEach(li => {
        // Verificar que el atributo data-country exista
        // Obtener el código de país desde el atributo data-country
        const countryCode = li.getAttribute('data-country');

        if (countryCode && countryFlags[countryCode]) {
            // Crear la imagen de la bandera
            const img = document.createElement("img");
            img.src = countryFlags[countryCode];
            img.alt = `${countryCode}`;
            img.style.width = "50px"; // Ajusta el tamaño de la bandera
            img.style.height = "auto";

            // Limpiar el contenido actual del <li> y añadir la imagen
            li.innerHTML = "";
            li.appendChild(img);
        }
    });
});